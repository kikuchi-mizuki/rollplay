# 📚 30分無料相談ロープレ用 音声データ準備ガイド

## 🎯 項目別データ整理の効果

### ✅ 精度向上の理由

1. **RAG検索の精度向上**
   - 会話の段階（ヒアリング、提案、価格、クロージング）に応じて適切なパターンを検索
   - 現在の実装ではキーワードベースの自動分類のみ
   - 項目別に整理することで、より正確な類似パターンを検索可能

2. **シナリオの構造化**
   - 各段階のパターンが明確になる
   - AIが会話の流れを理解しやすくなる

3. **多様な応答パターンの確保**
   - 各段階で複数のパターンを持てる
   - 同じ質問に対して異なる応答を生成可能

## 📋 データ準備の推奨構成

### 1. **ヒアリング段階**（5-10分）

**取り込むべき音声データ例：**
- 顧客の現状・課題を引き出す質問
- 事業規模・予算感のヒアリング
- 過去の経験・失敗談の聞き出し
- 意思決定者・影響範囲の確認

**データ数：** 10-15本（各3-5分）

**具体例：**
```
営業: 「現在の動画制作の課題は何でしょうか？」
顧客: 「時間がかかりすぎて、コストもかかっています」
営業: 「どのくらいの頻度で動画を制作されていますか？」
顧客: 「月に2-3本くらいですね」
```

### 2. **提案段階**（10-15分）

**取り込むべき音声データ例：**
- サービス・プランの説明
- ベネフィットの提示
- 競合他社との違い
- 実績・事例の紹介
- 具体的な解決策の提示

**データ数：** 15-20本（各3-5分）

**具体例：**
```
営業: 「弊社のプランでは、月5本まで制作可能です」
顧客: 「それは魅力的ですね」
営業: 「さらに、編集から公開まで一貫してサポートします」
顧客: 「具体的にはどのような流れですか？」
```

### 3. **価格交渉段階**（5-10分）

**取り込むべき音声データ例：**
- 価格の提示と説明
- 予算に関する質問への対応
- コスト削減のメリット説明
- 分割払い・オプションの提案
- 価格交渉への対応

**データ数：** 10-15本（各3-5分）

**具体例：**
```
営業: 「月額5万円で、動画制作から公開まで対応します」
顧客: 「もう少し安くならないでしょうか？」
営業: 「年間契約の場合、月額4万円に割引できます」
顧客: 「それなら検討できます」
```

### 4. **クロージング段階**（5-10分）

**取り込むべき音声データ例：**
- 次のアクション提案
- 契約・申し込みの促し
- 懸念点の最終確認
- スケジュール調整
- フォローアップの約束

**データ数：** 10-15本（各3-5分）

**具体例：**
```
営業: 「それでは、来週の月曜日から始められますか？」
顧客: 「はい、お願いします」
営業: 「ありがとうございます。契約書を準備いたします」
顧客: 「よろしくお願いします」
```

## 🔧 データ取り込みの最適化方法

### 方法1: ファイル名で分類（推奨）

音声ファイルを以下の命名規則で保存：

```
videos/
├── 01_ヒアリング_顧客の課題を引き出す_001.wav
├── 01_ヒアリング_予算感の確認_002.wav
├── 02_提案_プラン説明_001.wav
├── 02_提案_実績紹介_002.wav
├── 03_価格_価格提示_001.wav
├── 03_価格_価格交渉_002.wav
├── 04_クロージング_契約促進_001.wav
└── 04_クロージング_スケジュール調整_002.wav
```

### 方法2: メタデータ付きJSON（今後実装予定）

各音声ファイルに対応するメタデータJSONを作成：

```json
{
  "video_id": "001",
  "stage": "ヒアリング",
  "sub_category": "課題の引き出し",
  "duration": 300,
  "tags": ["質問", "現状把握", "課題発見"],
  "expected_flow": ["greeting", "needs_analysis"],
  "pattern_type": "good_question"
}
```

### 方法3: ディレクトリ構造で分類

```
videos/
├── 01_ヒアリング/
│   ├── 課題の引き出し_001.wav
│   └── 予算感の確認_002.wav
├── 02_提案/
│   ├── プラン説明_001.wav
│   └── 実績紹介_002.wav
├── 03_価格/
│   ├── 価格提示_001.wav
│   └── 価格交渉_002.wav
└── 04_クロージング/
    ├── 契約促進_001.wav
    └── スケジュール調整_002.wav
```

## 📊 データ量の目安

### 最小構成（基本動作）

- **ヒアリング**: 5本 × 3-5分 = 15-25分
- **提案**: 5本 × 3-5分 = 15-25分
- **価格**: 5本 × 3-5分 = 15-25分
- **クロージング**: 5本 × 3-5分 = 15-25分
- **合計**: 20本 × 約4分 = 約80分

### 推奨構成（高精度）

- **ヒアリング**: 10本 × 3-5分 = 30-50分
- **提案**: 10本 × 3-5分 = 30-50分
- **価格**: 10本 × 3-5分 = 30-50分
- **クロージング**: 10本 × 3-5分 = 30-50分
- **合計**: 40本 × 約4分 = 約160分

### 理想構成（最高精度）

- **ヒアリング**: 15本 × 3-5分 = 45-75分
- **提案**: 15本 × 3-5分 = 45-75分
- **価格**: 15本 × 3-5分 = 45-75分
- **クロージング**: 15本 × 3-5分 = 45-75分
- **合計**: 60本 × 約4分 = 約240分

## 🎯 データ品質のポイント

### 1. **音声品質**
- クリアな音声（ノイズが少ない）
- 話者が明確（営業/顧客の区別ができる）
- 途切れがない

### 2. **会話の自然さ**
- 実際の営業シーンに近い
- 不自然な台本読みではない
- リアルな反応・質問

### 3. **多様性**
- 同じ質問でも異なる応答パターン
- 様々な顧客タイプ（積極的、慎重、懸念あり）
- 異なるシーン（成功、難航、交渉）

### 4. **カバレッジ**
- 各段階のパターンを網羅
- 稀なケース（異論、反対）も含める
- 成功ケースと失敗ケースの両方

## 🚀 取り込み後の確認事項

1. **シナリオJSONの確認**
   - `scenarios/rp_*.json` の内容が正しいか
   - 会話の流れが適切か
   - パターン抽出が正しいか

2. **RAGインデックスの確認**
   - `rag_index/sales_patterns.json` にパターンが登録されているか
   - 各段階のパターンが適切に分類されているか

3. **動作確認**
   - 各段階で適切な応答が生成されるか
   - RAG検索が正しく動作するか

## 📝 次のステップ

1. **データ準備**: 上記の構成で音声データを準備
2. **取り込み**: `python tools/batch_ingest_videos.py` を実行
3. **確認**: 生成されたシナリオとRAGインデックスを確認
4. **テスト**: 実際にロープレで動作確認
5. **改善**: 不足しているパターンを追加

